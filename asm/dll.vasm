
@putn:
    blt.i64 %1 1 [putn.ret] [putn.digit]
@putn.digit:
    div.i64 %0 %1 10
    call %0 [putn] %0
    mod.i64 %1 %1 10
    add.i64 %1 %1 48
    out.i64 %1
    jump [putn.ret]
@putn.ret:
    ret.i64 0

@:
    dlopen %1 "dll.dll"
    call %0 [putn] %1
    out 10
    dlsym %2 %1 "vm_new_u8" &ptr
    call %0 [putn] %2
    out 10
    call %3 %2
    call %0 [putn] %3
    out 10
    exit
