#pragma once

#include "lib.h"

enum {
  VM_OPCODE_EXIT = 0,
  VM_OPCODE_REG = 1,
  VM_OPCODE_BB = 2,
  VM_OPCODE_INT = 3,
  VM_OPCODE_JUMP = 4,
  VM_OPCODE_FUNC = 5,
  VM_OPCODE_ADD = 6,
  VM_OPCODE_SUB = 7,
  VM_OPCODE_MUL = 8,
  VM_OPCODE_DIV = 9,
  VM_OPCODE_MOD = 10,
  VM_OPCODE_POW = 11,
  VM_OPCODE_CALL = 12,
  VM_OPCODE_RETURN = 13,
  VM_OPCODE_PUTCHAR = 14,
  VM_OPCODE_STRING = 15,
  VM_OPCODE_LENGTH = 16,
  VM_OPCODE_GET = 17,
  VM_OPCODE_SET = 18,
  VM_OPCODE_DUMP = 19,
  VM_OPCODE_READ = 20,
  VM_OPCODE_WRITE = 21,
  VM_OPCODE_ARRAY = 22,
  VM_OPCODE_CAT = 23,
  VM_OPCODE_BEQ = 24,
  VM_OPCODE_BLT = 25,
  VM_OPCODE_ADDI = 26,
  VM_OPCDOE_SUBI = 27,
  VM_OPCDOE_MULI = 28,
  VM_OPCODE_DIVI = 29,
  VM_OPCODE_MODI = 30,
  VM_OPCODE_CALL0 = 31,
  VM_OPCODE_CALL1 = 32,
  VM_OPCODE_CALL2 = 33,
  VM_OPCODE_CALL3 = 34,
  VM_OPCODE_GETI = 35,
  VM_OPCODE_SETI = 36,
  VM_OPCODE_BEQI = 37,
  VM_OPCODE_BLTI = 38,
  VM_OPCODE_BLTEI = 39,
  VM_OPCODE_CALL_DYN = 40,
};

typedef int32_t vm_file_opcode_t;
typedef union {
  size_t arg;
  void *op;
} vm_opcode_t;
